{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Downloads\\\\Blog---Frontend-master\\\\Blog---Frontend-master\\\\src\\\\components\\\\NewBlog\\\\EditBlog.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"../../api\";\nimport React, { useEffect, useState } from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport BlogForm from \"./BlogForm\";\nimport { useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { Spinner } from \"flowbite-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditBlog = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useSelector(state => state.user);\n  const [blogDetails, setBlogDetails] = useState({\n    title: \"\",\n    content: \"\",\n    imageURL: \"\"\n  });\n  useEffect(() => {\n    if (!user) navigate(\"/auth\");else {\n      axios.get(`/blog/${id}`).then(response => {\n        const {\n          data\n        } = response;\n        setBlogDetails({\n          title: data.title,\n          content: data.content,\n          imageURL: data.imageURL\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }, [id]);\n\n  const EditBlog = data => {\n    const token = `Bearer ${localStorage.getItem(\"blog-access-token\")}`;\n    axios.patch(`/blog/${id}`, {\n      title: data.title,\n      content: data.content,\n      imageURL: data.imageURL,\n      user: user\n    }, {\n      headers: {\n        Authorization: token\n      }\n    }).then(response => {\n      navigate(\"/\");\n      toast.success(\"Blog edited successfully\");\n    }).catch(error => {\n      toast.error(\"Please try after sometime\");\n    });\n  };\n\n  if (blogDetails.title !== \"\") {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"auth_container\",\n      fluid: true,\n      children: /*#__PURE__*/_jsxDEV(BlogForm, {\n        blogDetails: blogDetails,\n        onSubmit: EditBlog,\n        type: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        \"aria-label\": \"Center-aligned spinner example\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(EditBlog, \"P6v7Ds016D9+Q9wNjoCCoeqmr+w=\", false, function () {\n  return [useParams, useNavigate, useSelector];\n});\n\n_c = EditBlog;\nexport default EditBlog;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditBlog\");","map":{"version":3,"names":["axios","React","useEffect","useState","Container","useNavigate","useParams","BlogForm","useSelector","toast","Spinner","EditBlog","id","navigate","user","state","blogDetails","setBlogDetails","title","content","imageURL","get","then","response","data","catch","error","console","log","token","localStorage","getItem","patch","headers","Authorization","success"],"sources":["C:/Users/DELL/Downloads/Blog---Frontend-master/Blog---Frontend-master/src/components/NewBlog/EditBlog.js"],"sourcesContent":["import axios from \"../../api\";\nimport React, { useEffect, useState } from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport BlogForm from \"./BlogForm\";\nimport { useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { Spinner } from \"flowbite-react\";\n\nconst EditBlog = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { user } = useSelector((state) => state.user);\n  const [blogDetails, setBlogDetails] = useState({\n    title: \"\",\n    content: \"\",\n    imageURL: \"\",\n  });\n\n  useEffect(() => {\n    if (!user) navigate(\"/auth\");\n    else {\n      axios\n        .get(`/blog/${id}`)\n        .then((response) => {\n          const { data } = response;\n          setBlogDetails({\n            title: data.title,\n            content: data.content,\n            imageURL: data.imageURL,\n          });\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  }, [id]);\n\n  const EditBlog = (data) => {\n    const token = `Bearer ${localStorage.getItem(\"blog-access-token\")}`;\n    axios\n      .patch(\n        `/blog/${id}`,\n        {\n          title: data.title,\n          content: data.content,\n          imageURL: data.imageURL,\n          user: user,\n        },\n        {\n          headers: { Authorization: token },\n        }\n      )\n      .then((response) => {\n        navigate(\"/\");\n        toast.success(\"Blog edited successfully\");\n      })\n      .catch((error) => {\n        toast.error(\"Please try after sometime\");\n      });\n  };\n\n  if (blogDetails.title !== \"\") {\n    return (\n      <Container className=\"auth_container\" fluid>\n        <BlogForm blogDetails={blogDetails} onSubmit={EditBlog} type=\"Edit\" />\n      </Container>\n    );\n  } else {\n    return (\n      <div className=\"text-center\">\n        <Spinner aria-label=\"Center-aligned spinner example\" />\n      </div>\n    );\n  }\n};\n\nexport default EditBlog;\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,WAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,SAAT,QAA0B,iBAA1B;AACA,SAASC,WAAT,EAAsBC,SAAtB,QAAuC,kBAAvC;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,OAAT,QAAwB,gBAAxB;;;AAEA,MAAMC,QAAQ,GAAG,MAAM;EAAA;;EACrB,MAAM;IAAEC;EAAF,IAASN,SAAS,EAAxB;EACA,MAAMO,QAAQ,GAAGR,WAAW,EAA5B;EACA,MAAM;IAAES;EAAF,IAAWN,WAAW,CAAEO,KAAD,IAAWA,KAAK,CAACD,IAAlB,CAA5B;EACA,MAAM,CAACE,WAAD,EAAcC,cAAd,IAAgCd,QAAQ,CAAC;IAC7Ce,KAAK,EAAE,EADsC;IAE7CC,OAAO,EAAE,EAFoC;IAG7CC,QAAQ,EAAE;EAHmC,CAAD,CAA9C;EAMAlB,SAAS,CAAC,MAAM;IACd,IAAI,CAACY,IAAL,EAAWD,QAAQ,CAAC,OAAD,CAAR,CAAX,KACK;MACHb,KAAK,CACFqB,GADH,CACQ,SAAQT,EAAG,EADnB,EAEGU,IAFH,CAESC,QAAD,IAAc;QAClB,MAAM;UAAEC;QAAF,IAAWD,QAAjB;QACAN,cAAc,CAAC;UACbC,KAAK,EAAEM,IAAI,CAACN,KADC;UAEbC,OAAO,EAAEK,IAAI,CAACL,OAFD;UAGbC,QAAQ,EAAEI,IAAI,CAACJ;QAHF,CAAD,CAAd;MAKD,CATH,EAUGK,KAVH,CAUUC,KAAD,IAAW;QAChBC,OAAO,CAACC,GAAR,CAAYF,KAAZ;MACD,CAZH;IAaD;EACF,CAjBQ,EAiBN,CAACd,EAAD,CAjBM,CAAT;;EAmBA,MAAMD,QAAQ,GAAIa,IAAD,IAAU;IACzB,MAAMK,KAAK,GAAI,UAASC,YAAY,CAACC,OAAb,CAAqB,mBAArB,CAA0C,EAAlE;IACA/B,KAAK,CACFgC,KADH,CAEK,SAAQpB,EAAG,EAFhB,EAGI;MACEM,KAAK,EAAEM,IAAI,CAACN,KADd;MAEEC,OAAO,EAAEK,IAAI,CAACL,OAFhB;MAGEC,QAAQ,EAAEI,IAAI,CAACJ,QAHjB;MAIEN,IAAI,EAAEA;IAJR,CAHJ,EASI;MACEmB,OAAO,EAAE;QAAEC,aAAa,EAAEL;MAAjB;IADX,CATJ,EAaGP,IAbH,CAaSC,QAAD,IAAc;MAClBV,QAAQ,CAAC,GAAD,CAAR;MACAJ,KAAK,CAAC0B,OAAN,CAAc,0BAAd;IACD,CAhBH,EAiBGV,KAjBH,CAiBUC,KAAD,IAAW;MAChBjB,KAAK,CAACiB,KAAN,CAAY,2BAAZ;IACD,CAnBH;EAoBD,CAtBD;;EAwBA,IAAIV,WAAW,CAACE,KAAZ,KAAsB,EAA1B,EAA8B;IAC5B,oBACE,QAAC,SAAD;MAAW,SAAS,EAAC,gBAArB;MAAsC,KAAK,MAA3C;MAAA,uBACE,QAAC,QAAD;QAAU,WAAW,EAAEF,WAAvB;QAAoC,QAAQ,EAAEL,QAA9C;QAAwD,IAAI,EAAC;MAA7D;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EAKD,CAND,MAMO;IACL,oBACE;MAAK,SAAS,EAAC,aAAf;MAAA,uBACE,QAAC,OAAD;QAAS,cAAW;MAApB;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EAKD;AACF,CAlED;;GAAMA,Q;UACWL,S,EACED,W,EACAG,W;;;KAHbG,Q;AAoEN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}